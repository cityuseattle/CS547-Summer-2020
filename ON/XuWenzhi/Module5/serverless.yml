service: aws-nodejs # NOTE: update this with your service nam

plugins:
  - serverless-pseudo-parameters

provider:
  name: aws
  runtime: nodejs12.x
  region: us-west-2
functions:
  get-index:
    handler: functions/get-index.handler
    events:
      - http:
          path: /
          method: get
    environment:
      search_books_api: https://tmnxoramid.execute-api.us-west-2.amazonaws.com/dev/books/search

  search-books:
    handler: functions/search-books.handler
    events:
      - http:
          path: /books/search
          method: post
    environment:
      books_table: books